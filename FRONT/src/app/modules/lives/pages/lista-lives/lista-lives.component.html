<div class="lista-container">
  <ejs-toast #toast
    [position]="{ X: 'Right', Y: 'Top' }"
    [showCloseButton]="true"
    [timeOut]="5000">
  </ejs-toast>

  <div class="header">
    <div class="header-content">
      <h1>Lives</h1>
      <button ejs-button cssClass="e-primary" (click)="onNovaLive()">
        <span class="e-btn-icon e-add e-icons e-icon-left"></span>
        Nova Live
      </button>
    </div>
  </div>

  <ejs-grid 
    #grid 
    [dataSource]="lives"
    [allowPaging]="true"
    [pageSettings]="pageSettings"
    [toolbar]="toolbar"
    [filterSettings]="filterSettings"
    [allowFiltering]="true"
    [allowSorting]="true">
    <e-columns>
      <e-column field="titulo" headerText="Título" width="200"></e-column>
      <e-column field="dataLive" headerText="Data da Live" width="150">
        <ng-template #template let-data>
          {{formatarData(data.dataLive)}}
        </ng-template>
      </e-column>
      <e-column field="observacoes" headerText="Observações" width="250"></e-column>
      <e-column field="usuarioModificacao" headerText="Modificado por" width="150"></e-column>
      <e-column field="dataAlteracao" headerText="Data Modificação" width="150">
        <ng-template #template let-data>
          {{formatarData(data.dataAlteracao)}}
        </ng-template>
      </e-column>
      <e-column headerText="Contabilização" width="100" textAlign="Center">
        <ng-template #template let-data>
          <button ejs-button cssClass="e-flat" title="Contabilizar">
            <i class="fas fa-calculator"></i>
          </button>
        </ng-template>
      </e-column>
      <e-column headerText="Ações" width="100" textAlign="Center">
        <ng-template #template let-data>
          <div class="action-buttons">
            <button ejs-button cssClass="e-primary e-small" (click)="onEditar(data)" title="Editar">
              <span class="e-btn-icon e-edit e-icons"></span>
            </button>
            <button ejs-button cssClass="e-danger e-small" (click)="onExcluir(data)" title="Excluir">
              <span class="e-btn-icon e-delete e-icons"></span>
            </button>
          </div>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</div>