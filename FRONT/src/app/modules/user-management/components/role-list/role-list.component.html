<div class="role-list-container">
  <div class="header-section">
    <div class="header-left">
      <h2>Gerenciamento de Fun√ß√µes</h2>
      <div class="nav-tabs">
        <button class="nav-tab" routerLink="/user-management">
          <i class="fas fa-users"></i> Usu√°rios
        </button>
        <button class="nav-tab active" routerLink="/user-management/roles">
          <i class="fas fa-user-tag"></i> Fun√ß√µes
        </button>
      </div>
    </div>
    <button ejs-button cssClass="e-primary" (click)="createRole()">
      <i class="fas fa-plus"></i> Nova Fun√ß√£o
    </button>
  </div>

  <div class="grid-section">
    <ejs-grid 
      *ngIf="!loading"
      [dataSource]="roles" 
      [allowPaging]="true" 
      [pageSettings]="pageSettings"
      [allowSorting]="true"
      [allowFiltering]="true"
      [filterSettings]="filterSettings"
      [toolbar]="toolbar"
      (toolbarClick)="toolbarClickHandler($event)">
      
      <e-columns>
        <e-column field="id" headerText="ID" width="80" textAlign="Right"></e-column>
        <e-column field="name" headerText="Nome da Fun√ß√£o" width="200"></e-column>
        <e-column field="description" headerText="Descri√ß√£o" width="300"></e-column>
        <e-column headerText="Permiss√µes" width="250">
        <ng-template #template let-data>
          <span>{{ getRolePermissions(data) }}</span>
        </ng-template>
      </e-column>
        <e-column headerText="A√ß√µes" width="120">
          <ng-template #template let-data>
            <div class="action-buttons">
              <button ejs-button cssClass="e-small e-flat" (click)="editRole(data)" title="Editar">
                <span style="font-size: 12px; font-weight: bold;">‚úèÔ∏è</span>
              </button>
              <button ejs-button cssClass="e-small e-flat e-danger" (click)="deleteRole(data)" title="Excluir">
                <span style="font-size: 12px; font-weight: bold;">üóëÔ∏è</span>
              </button>
            </div>
          </ng-template>
        </e-column>
      </e-columns>
      

      

    </ejs-grid>
    
    <div *ngIf="loading" class="loading-container">
      <div class="spinner"></div>
      <p>Carregando fun√ß√µes...</p>
    </div>
  </div>
</div>

<app-role-form
  *ngIf="showRoleForm"
  [role]="selectedRole"
  [isEditMode]="isEditMode"
  (onClose)="onRoleFormClose()">
</app-role-form>